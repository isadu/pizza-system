version: '2.0'
session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true

intents:
- greet
- give_entity
- confirm
- deny
- request

entities:
  - pizza_type
  - crust
  - size
  - order_type
  - phone
  - name


slots:
  pizza_type:
    type: text
  crust:
    type: text
  size:
    type: text
  order_type:
    type: text
  phone:
    type: text

responses:
  utter_greet:
  - text: |
      "Welcome to the pizza ordering system. What would you like?"
  utter_ask_size:
  - text: |
      Size? Can be large, medium or small.
  utter_ask_crust:
  - text: |
      What crust type? We have thin, regular, deep dish, gluten free.
  utter_ask_delivery:
  - text: |
      Pick-up or delivery?
  - text: |
      Is this for pick-up or delivery?
  utter_ask_name:
  - text: |
      What is your name?
  utter_ask_phone:
  - text: |
      What is your phone number?
  utter_ask_confirmation:
  - text: |
      Your order is a {size} {pizza_type} on {crust} crust. Is that okay?
  utter_state_confirmation:
  - text: |
      Order is confirmed. You'll have your pizza in 20 minutes. 

actions:
- '...'
- utter_greet

forms:
  pizza_form:
    pizza_type:
      - type: from_entity
        entity: pizza_type
    crust:
      - type: from_entity
        entity: crust
    size:
      - type: from_entity
        entity: size
    name:
      - type: from_entity
        entity: name
    phone:
      - type: from_entity
        entity: phone
    order_type:
      - type: from_entity
        entity: order_type